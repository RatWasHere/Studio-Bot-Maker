<html>
    <link rel="stylesheet" href="main.css">
    <meta charset="utf8">
    <div class="sidebar" id="sidebar">
        <br>
        <div class="sidebarbutton flexbox outlined" onclick="modcolor()">
            <div class="image colors noanims;" style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Colors</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox" onclick="savePrj()">
            <div class="image save noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Save</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox outlined" onclick="exportProject()" >
            <div class="image export noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Export</div>
        </div>
        <div class="sidebarbutton flexbox outlined" onclick="sltPrj()" >
            <div class="image import noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Import</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox" onclick="ipcRenderer.send('runBot')" >
            <div class="image startbot noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Start Bot</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox outlined" onclick="settoken()" >
            <div class="image botsetup noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Bot Setup</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox outlined" onclick="initSetup()" >
            <div class="image botsetup noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Settings</div>
        </div>
        <div class="sepbars"></div>
        <div class="sidebarbutton flexbox outlined" onclick="require('electron').shell.openExternal('https:/\/discord.gg/wjXz7jGgCw')">
            <div class="image editAction noanims;"style="width: 2vw; height: 2vw; margin-left: 1vw;"></div>
            <div class="sidebartext">Support Server</div>
        </div>

    </div>
    <div style="justify-content: center; width: 100%; align-content: center; margin-left: auto; margin-right: auto; align-items: center; justify-items: center; overflow-y: none !important;">
<div class="flexbox fbh">
    <div style="flex: none; width: 48.3vw;">
        <div id="animationArea">
    <div class="actBarHalf actbartop" id="commandbar" style="z-index: 2;">
    </div>
    <div class="actbartoolbar flexbox actbarbottom" style="margin-bottom: 2vh; align-items: center; justify-content: center;">
        <div style="margin-right: auto; margin-left: 1vw;">
        <div class="barbuttontexta">Groups</div>
        </div> 
        <div style="margin-left: auto; margin-right: 1vw" class="flexbox" style="align-items: center; justify-content: center;">
            <div class="barbuttone" onclick="lastType = 0; newObject();" style="width: 2.7vw; height: 3.5vh;">
                <div class="image add"></div>
            </div>
        </div>       </div>
    <div class="actBarHalf actbartop" id="actionbar" style="width: 96.6vw !important;">
    </div>
    <div class="actbartoolbar flexbox actbarbottom" style="align-items: center; justify-content: center; width: calc(96.6vw - 8px) !important;">
        <div style="margin-right: auto; margin-left: 1vw;">
        <div class="barbuttontexta" id="actionsOf">Actions of </div>
        </div> 
        
        <div style="margin-left: auto; margin-right: 1vw" class="flexbox" style="align-items: center; justify-content: center;">
            <div class="barbuttone borderrightz" onclick="lastType = 1; editAction(document.getElementById('Action' + lastAct));" style="width: 2.7vw; height: 3.5vh;">
                <div class="imagefull editAction"></div>
            </div>
            <div class="barbuttone borderleftz" onclick="lastType = 1; newObject();" style="width: 2.7vw; height: 3.5vh; margin-left: 0.12vw; margin-right: 0.12vw;">
                <div class="image add"></div>
            </div>
        </div>
    </div>
</div>

</div>
    <div id="edutor" class="fullsize" style="height: 42vh !important;">
        <div id="animationEditor">
            <div class="flexbox tile dimension noanims" style="margin-bottom: 0.5vh; height: calc(5vh - 10px) !important; padding: 0px !important; padding-top: 5px !important; padding-bottom: 5px !important; width: 100%; border-radius: 12px;">
                <div class="barbuttonshift borderright"  id="highlightedGroup1" style="width: calc(35.5% - 24px); padding: 0px; height: 100%;" onclick="setHighlightedGroup(1)"><div class="barbuttontexta">Text Commands</div></div>
                <div class="barbuttonshift bordercenter" id="highlightedGroup2" style="width: calc(35.5% - 24px); padding: 0px; height: 100%;" onclick="setHighlightedGroup(2)"><div class="barbuttontexta">Slash Commands</div></div>
                <div class="barbuttonshift borderleft" id="highlightedGroup3" style="width: calc(35.5% - 24px); padding: 0px; height: 100%;" onclick="setHighlightedGroup(3)"><div class="barbuttontexta">Events</div></div>
            </div>
        <div class="tile borderbottomz" style="background: linear-gradient(0deg, #FFFFFF10, #FFFFFF15);">
        <div class="text clsr" style="margin-top: 0px;">Group Name</div>
        <div class="inputBar" style="width: 96%; border-radius: 9px; margin: auto;" contenteditable="true" id="Command_Name" oninput="validateInputSpaces(this); updateName(this)"></div>
        </div>

    <div class="tile bordercentere" style="background: linear-gradient(0deg, #FFFFFF15, #FFFFFF10); margin-top: 0px;">
    <div id="botData.commands[lastObj].actions" class="baction noanims" style="width: 90%; padding: 5px; margin-top: 0px; margin-bottom: 10px;">Using 0 Actions</div>
    <div class="flexbox" style="height: 33px; margin-bottom: 2vh;">
    <div class="baction noanims hoverable optionleft flexbox" style="align-items: center; justify-content: center;" id="commandParameters" onclick="openParameters()"><div style="margin-right: auto; margin-left: 1vw;">Parameters</div><div class="image openExternally"></div></div>
    <div class="baction noanims hoverable optionright flexbox" style="overflow: auto; align-items: center; justify-content: center;" id="groupEvents" onclick="openEvent()"><div style="margin-right: auto; margin-left: 1vw;">Event: </div><div class="image openExternally"></div></div>
    <div class="baction noanims hoverable optionright flexbox" style="align-items: center; justify-content: center;"id="commandOptions" onclick="openPermissionEditor()"><div style="margin-right: auto; margin-left: 1vw;">Permissions</div><div class="image openExternally"></div></div>
    </div>
    
    </div>
    <div class="tile bordertop any">
        <div class="flexbox" style="align-items: center; justify-content: center; margin-left: auto; margin-right: auto;">
        <div class="dimension hoverablez flexbox" id="colorToggler" onclick="toggleColorsVisibility(this)" style="margin-right: 0.5vw; aspect-ratio: 1/1; height: calc(2.3vw + 10px); border-radius: 12px; cursor: pointer; margin-left: auto; transition: all 0.3s cubic-bezier(.47,1.64,.41,.8);">
            <div class="image editAction"></div>
        </div>
        <div class="flexbox dimension" id="colorsSelector" style="overflow-x: auto; overflow-y: none; height: 2.3vw; width: 85%; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 12px; background-color: #FFFFFF10; transition: all 0.25s ease, padding 0.10s ease, width 0.25s ease;">
        <div class="dimension coloredTile" onclick="setGroupColor(null)" style="aspect-ratio: 1/1; background-color: #FFFFFF; opacity: 10%; height: 2.2vw; border-radius: 100vw; transform: scale(0.7); margin-left: 0.3vw; margin-right: 0.3vw; margin-top: auto; margin-bottom: auto; cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #FFFFFF; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #f54242; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #f58d42; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #f5da42; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #9ef542; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #4bf542; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #42f59e; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #42f5f5; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #42a4f5; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #4251f5; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #aa42f5; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        <div class="dimension coloredTile" onclick="setGroupColor(this)" style="aspect-ratio: 1/1; background-color: #f542ce; height: 2.2vw; border-radius: 12px; margin: auto;  cursor: pointer;"></div>
        </div>
        </div>
    </div>
</div>

</div>

</div>

    </div>


    <script>
        document.body.style.background =  'linear-gradient(45deg, #000814 0%,#1d1d1d 160%)'
    </script>
    <script src="./AppData/Kits/settings.js"></script>
    <script src="./AppData/Kits/EditorBones.js"></script>
    <script src="./AppData/Kits/MiscScripts.js"></script>
    <script src="./AppData/Kits/ActionModules.js"></script>

    <script>

        setHighlightedGroup(1)
       toggleColorsVisibility()
        setTimeout(() => {
            toggleColorsVisibility()
        }, 350)
        document.body.style.padding = '1vw'
        document.body.style.paddingTop = '1vh'
        document.body.style.paddingBottom = '1.8vh'

        const interactionTools = require('./AppData/Toolkit/interactionTools.js')
const fese = require('fs')
try {
    fese.readFileSync(processPath + '\\AppData\\data.json', 'utf8')
} catch (err) {

    document.body.innerHTML = `<div class="flexbox" style="height: 50vh; margin-top: 24vh;">
    <div class="ring"></div>
    <div class="barbuttontexta">Hold on, Studio Bot Maker is downloading a few things!</div></div>`
    setTimeout(() => {
        location.reload()
    }, 10000)}

        let lastButton;
        let pinHTML;
      
    async function commandData() {
        let elmd = document.getElementById('commandData')
        elmd.style.animationName = 'expandFrom'
        elmd.style.animationDuration = '0.5s'
        elmd.style.height = '40%'
        elmd.style.maxHeight = '1000%'
        elmd.onclick = () => {}
        elmd.style.borderRadius = '22px'
        setTimeout(() => {
            for (let action in botData.commands[lastObj]) {
                elmd.innerHTML += `<div class="action"><div>${action}</div> - ${botData.commands[lastObj].action}</div>`
            }
        }, 500)
    }
      let ActionTile = document.getElementById('commandbar');
      let SWT = document.getElementById('switchTask')

    let currentlyEditing = false;

    function updateName() {
        botData.commands[lastObj].name = document.getElementById('Command_Name').innerText
        document.getElementById(`${lastObj}Groupname`).innerText = botData.commands[lastObj].name
        wast()
    }
        try {
            ipcRenderer.send('finishLoad', {})
        } catch (err) {
            fs.writeFileSync('./errorlog.txt', err)
        }
        </script>
    </html>